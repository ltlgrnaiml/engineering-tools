{
  "_comment": "L3 Chunked Plan Index - Read this file FIRST before any chunk",
  "schema_type": "l3_chunk_index",
  "plan_id": "PLAN-001",
  "granularity": "L3",
  "title": "DevTools Workflow Manager Implementation",
  "version": "2025.12.02",
  "total_chunks": 12,
  "target_model": "grok-code-fast-1",
  "session_required": true,
  "verification_strictness": "stop_and_escalate",

  "chunks": [
    {
      "chunk_id": "M1",
      "chunk_file": "PLAN-001_L3_M1.json",
      "name": "Backend API Foundation & Contracts",
      "line_count": 580,
      "target_limit": 600,
      "soft_limit": 800,
      "status": "completed",
      "warning_note": null
    },
    {
      "chunk_id": "M2",
      "chunk_file": "PLAN-001_L3_M2.json",
      "name": "Sidebar Component",
      "line_count": 450,
      "target_limit": 600,
      "soft_limit": 800,
      "status": "completed",
      "warning_note": null
    },
    {
      "chunk_id": "M3",
      "chunk_file": "PLAN-001_L3_M3.json",
      "name": "Graph Visualization",
      "line_count": 380,
      "target_limit": 600,
      "soft_limit": 800,
      "status": "completed",
      "warning_note": null
    },
    {
      "chunk_id": "M4",
      "chunk_file": "PLAN-001_L3_M4.json",
      "name": "Artifact Reader Panels",
      "line_count": 420,
      "target_limit": 600,
      "soft_limit": 800,
      "status": "completed",
      "warning_note": null
    },
    {
      "chunk_id": "M5",
      "chunk_file": "PLAN-001_L3_M5.json",
      "name": "Artifact Editor Panels",
      "line_count": 450,
      "target_limit": 600,
      "soft_limit": 800,
      "status": "completed",
      "warning_note": null
    },
    {
      "chunk_id": "M6",
      "chunk_file": "PLAN-001_L3_M6.json",
      "name": "Header & Command Palette",
      "line_count": 380,
      "target_limit": 600,
      "soft_limit": 800,
      "status": "completed",
      "warning_note": null
    },
    {
      "chunk_id": "M7",
      "chunk_file": "PLAN-001_L3_M7.json",
      "name": "Activity Feed & Empty States",
      "line_count": 320,
      "target_limit": 600,
      "soft_limit": 800,
      "status": "completed",
      "warning_note": null
    },
    {
      "chunk_id": "M8",
      "chunk_file": "PLAN-001_L3_M8.json",
      "name": "Workflow Stepper",
      "line_count": 350,
      "target_limit": 600,
      "soft_limit": 800,
      "status": "completed",
      "warning_note": null
    },
    {
      "chunk_id": "M9",
      "chunk_file": "PLAN-001_L3_M9.json",
      "name": "Integration & Polish",
      "line_count": 480,
      "target_limit": 600,
      "soft_limit": 800,
      "status": "completed",
      "warning_note": null
    },
    {
      "chunk_id": "M10",
      "chunk_file": "PLAN-001_L3_M10.json",
      "name": "Workflow Modes & Scenarios",
      "line_count": 580,
      "target_limit": 600,
      "soft_limit": 800,
      "status": "completed",
      "warning_note": null
    },
    {
      "chunk_id": "M11",
      "chunk_file": "PLAN-001_L3_M11.json",
      "name": "Frontend Integration & Live Testing",
      "line_count": 450,
      "target_limit": 600,
      "soft_limit": 800,
      "status": "completed",
      "warning_note": null
    },
    {
      "chunk_id": "M12",
      "chunk_file": "PLAN-001_L3_M12.json",
      "name": "AI-Full Mode Implementation",
      "line_count": 480,
      "target_limit": 600,
      "soft_limit": 800,
      "status": "completed",
      "warning_note": null
    }
  ],

  "current_chunk": null,
  "last_completed_task": "T-M12-08",

  "continuation_context": {
    "previous_chunk": "M9",
    "last_completed_task": "T-M9-04",
    "files_created": [
      "shared/contracts/devtools/workflow.py",
      "gateway/services/workflow_service.py",
      "tests/gateway/__init__.py",
      "tests/gateway/test_devtools_workflow.py",
      "apps/homepage/frontend/src/components/workflow/index.ts",
      "apps/homepage/frontend/src/components/workflow/types.ts",
      "apps/homepage/frontend/src/components/workflow/WorkflowSidebar.tsx",
      "apps/homepage/frontend/src/components/workflow/SidebarTabs.tsx",
      "apps/homepage/frontend/src/components/workflow/ArtifactList.tsx",
      "apps/homepage/frontend/src/components/workflow/ArtifactGraph.tsx",
      "apps/homepage/frontend/src/components/workflow/GraphToolbar.tsx",
      "apps/homepage/frontend/src/components/workflow/ArtifactReader.tsx",
      "apps/homepage/frontend/src/components/workflow/JsonRenderer.tsx",
      "apps/homepage/frontend/src/components/workflow/MarkdownRenderer.tsx",
      "apps/homepage/frontend/src/components/workflow/CodeRenderer.tsx",
      "apps/homepage/frontend/src/components/workflow/ArtifactEditor.tsx",
      "apps/homepage/frontend/src/components/workflow/EditorForm.tsx",
      "apps/homepage/frontend/src/components/workflow/WorkflowHeader.tsx",
      "apps/homepage/frontend/src/components/workflow/NewWorkflowDropdown.tsx",
      "apps/homepage/frontend/src/components/workflow/CommandPalette.tsx",
      "apps/homepage/frontend/src/components/workflow/ActivityFeed.tsx",
      "apps/homepage/frontend/src/components/workflow/EmptyState.tsx",
      "apps/homepage/frontend/src/components/workflow/WorkflowStepper.tsx",
      "apps/homepage/frontend/src/components/workflow/useWorkflowState.ts",
      "apps/homepage/frontend/src/pages/WorkflowManagerPage.tsx"
    ],
    "files_modified": [
      "shared/contracts/devtools/__init__.py",
      "gateway/services/devtools_service.py"
    ],
    "architecture_rules": [
      "STYLE: Functional programming - NO classes except Pydantic models",
      "ENUMS: Always exactly 5 values for status enums",
      "VERSION: Use __version__ = '2025.12.01' format",
      "IMPORTS: Always at top of file, sorted alphabetically",
      "NAMING: Use full descriptive names (ArtifactSummary not ArtifactInfo)"
    ],
    "patterns_established": [
      "Import workflow models from shared.contracts.devtools.workflow",
      "Use scan_artifacts() and build_artifact_graph() from workflow_service",
      "5-value enums for ArtifactType, ArtifactStatus, RelationshipType"
    ],
    "active_blockers": []
  },

  "execution_history": [
    {
      "chunk_id": "M1",
      "completed_by": "claude-sonnet-4-20250514",
      "session_id": "SESSION_006",
      "completed_date": "2025-12-30"
    },
    {
      "chunk_id": "M2",
      "completed_by": "claude-sonnet-4-20250514",
      "session_id": "SESSION_007",
      "completed_date": "2025-12-30"
    },
    {
      "chunk_id": "M3",
      "completed_by": "claude-sonnet-4-20250514",
      "session_id": "SESSION_008",
      "completed_date": "2025-12-30"
    },
    {
      "chunk_id": "M4",
      "completed_by": "claude-sonnet-4-20250514",
      "session_id": "SESSION_009",
      "completed_date": "2025-12-30"
    },
    {
      "chunk_id": "M5",
      "completed_by": "claude-sonnet-4-20250514",
      "session_id": "SESSION_010",
      "completed_date": "2025-12-30"
    },
    {
      "chunk_id": "M6",
      "completed_by": "claude-sonnet-4-20250514",
      "session_id": "SESSION_011",
      "completed_date": "2025-12-30"
    },
    {
      "chunk_id": "M7",
      "completed_by": "claude-sonnet-4-20250514",
      "session_id": "SESSION_012",
      "completed_date": "2025-12-30"
    },
    {
      "chunk_id": "M8",
      "completed_by": "claude-sonnet-4-20250514",
      "session_id": "SESSION_013",
      "completed_date": "2025-12-30"
    },
    {
      "chunk_id": "M9",
      "completed_by": "claude-sonnet-4-20250514",
      "session_id": "SESSION_014",
      "completed_date": "2025-12-30"
    },
    {
      "chunk_id": "M10",
      "completed_by": "claude-sonnet-4-20250514",
      "session_id": "SESSION_015",
      "completed_date": "2025-12-30"
    },
    {
      "chunk_id": "M11",
      "completed_by": "claude-sonnet-4-20250514",
      "session_id": "SESSION_016",
      "completed_date": "2025-12-30"
    },
    {
      "chunk_id": "M12",
      "completed_by": "claude-sonnet-4-20250514",
      "session_id": "SESSION_016",
      "completed_date": "2025-12-30"
    }
  ],

  "_instructions": {
    "before_starting": [
      "1. Read this INDEX file completely",
      "2. Check current_chunk to know which chunk to execute",
      "3. Read the chunk file specified in chunks[current_chunk].chunk_file",
      "4. Create a session file: .sessions/SESSION_XXX_PLAN-001_<chunk>_<summary>.md",
      "5. Run baseline tests: pytest tests/ -v (document if failing)",
      "6. If baseline fails, create .questions/ file and STOP"
    ],
    "during_execution": [
      "1. Follow each step in order - do not skip steps",
      "2. Run verification_hint after each step",
      "3. If any step fails, create .questions/ file and STOP",
      "4. Copy code snippets EXACTLY - do not modify",
      "5. After every 5 tasks, update session file with progress"
    ],
    "after_completing_chunk": [
      "1. Run all acceptance criteria verification commands",
      "2. Update this INDEX file: current_chunk, last_completed_task, continuation_context",
      "3. Add entry to execution_history with your model name",
      "4. Update session file with handoff notes",
      "5. Commit changes: git add -A && git commit -m 'PLAN-001 <chunk>: <summary>'"
    ]
  }
}
