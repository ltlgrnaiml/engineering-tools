{
  "schema_type": "adr",
  "id": "ADR-0030_Documentation-Lifecycle-Management",
  "title": "Documentation Lifecycle Management for Multi-Project Monorepo",
  "status": "accepted",
  "date": "2025-12-28",
  "deciders": "Mycahya Eggleston",
  "scope": "core",
  "provenance": [
    {
      "at": "2025-12-28",
      "by": "Mycahya Eggleston",
      "note": "Initial draft based on docs folder audit revealing accumulated planning artifacts, gap analyses, and unclear retention policies"
    }
  ],
  "context": "During development of the Engineering Tools Platform (a multi-project monorepo with DAT, PPTX, SOV, and Homepage tools), documentation has accumulated organically including: planning documents that served their purpose, gap analysis documents tracking remediation, debug/review artifacts, and duplicate folder structures. ADR-0015 established the 3-tier model (ADRs/Specs/Guides) but did not address: (1) lifecycle states for documents beyond the 3 tiers, (2) archival vs deletion policies, (3) changelog vs version history, (4) ADR mutability during development phase. Additionally, all 29 ADRs are currently 'Accepted' but the platform has no production users yet, meaning ADRs may need modification as development progresses.",
  "decision_primary": "Establish a 5-category document classification with explicit lifecycle states and retention policies. Introduce a development-phase ADR lifecycle where 'Accepted' status is mutable until production launch, with modifications requiring status reversion to 'Proposed' for re-review. Implement both CHANGELOG.md (for release-level changes) and per-document version history (for evolution tracking). Archive planning artifacts after completion; delete ephemeral working documents.",
  "decision_details": {
    "approach": "Classify all documentation into 5 categories with distinct lifecycle policies. Formalize ADR status transitions for development vs production phases. Establish clear criteria for archive vs delete decisions. Create CHANGELOG.md at repo root for release-level tracking.",
    "document_categories": [
      {
        "category": "tier_0_contracts",
        "purpose": "Source of truth data structures (Pydantic models)",
        "location": "shared/contracts/",
        "retention": "forever",
        "versioning": "__version__ attribute + semver per ADR-0016",
        "lifecycle": "create → version → deprecate (never delete)",
        "on_change": "bump version, update CHANGELOG"
      },
      {
        "category": "tier_1_adrs",
        "purpose": "Architectural decision rationale (WHY)",
        "location": ".adrs/",
        "retention": "forever",
        "versioning": "status field + provenance array",
        "lifecycle": "proposed → accepted → superseded | deprecated (never delete)",
        "on_change": "add provenance entry, update status if material change"
      },
      {
        "category": "tier_2_specs",
        "purpose": "Implementation specifications (WHAT)",
        "location": "docs/specs/",
        "retention": "forever",
        "versioning": "spec_version field in JSON",
        "lifecycle": "draft → active → superseded (never delete)",
        "on_change": "bump spec_version, add change entry"
      },
      {
        "category": "tier_3_guides",
        "purpose": "How-to content and user documentation",
        "location": "docs/{tool}/, docs/platform/",
        "retention": "forever",
        "versioning": "Last Updated footer in markdown",
        "lifecycle": "create → update in place → archive if obsolete",
        "on_change": "update content, update Last Updated"
      },
      {
        "category": "ephemeral_working_docs",
        "purpose": "Planning, gap analysis, debug, code review artifacts",
        "location": "various (should not persist)",
        "retention": "delete when purpose fulfilled OR archive if historically significant",
        "versioning": "none",
        "lifecycle": "create → fulfill purpose → delete OR archive",
        "on_change": "not applicable (ephemeral)"
      }
    ],
    "adr_lifecycle_development_phase": {
      "description": "During active development (pre-production), ADRs are living documents that may evolve as understanding deepens. Once production users exist, ADRs become immutable history.",
      "statuses": {
        "proposed": "Under discussion, not yet team consensus",
        "accepted": "Current team consensus, mutable during development",
        "superseded": "Replaced by newer ADR (must reference replacement)",
        "deprecated": "No longer applicable (legacy system removal)"
      },
      "development_phase_rules": [
        "Accepted ADRs MAY be modified if new information emerges",
        "Material modifications MUST revert status to 'proposed' for re-review",
        "All modifications MUST add provenance entry with change rationale",
        "Minor clarifications (typos, formatting) do NOT require status change"
      ],
      "production_phase_rules": [
        "Accepted ADRs become IMMUTABLE once production users exist",
        "Changes require NEW ADR that supersedes the original",
        "Original ADR marked 'superseded' with reference to replacement"
      ],
      "material_change_definition": "A change is 'material' if it alters: decision_primary, constraints, guardrails, or would affect existing implementations"
    },
    "archival_policy": {
      "archive_location": "docs/_archive/{category}/{date}/",
      "archive_when": [
        "Planning document purpose fulfilled (e.g., change-plan after implementation)",
        "Gap analysis 100% complete with all remediations merged",
        "Document superseded but has historical value for future reference"
      ],
      "archive_format": "Move files with README.md explaining why archived and when",
      "archive_retention": "Indefinite (archives are cheap storage)"
    },
    "deletion_policy": {
      "delete_when": [
        "Ephemeral working document with no historical value",
        "Duplicate content that exists in authoritative location",
        "Debug/troubleshooting doc for resolved issue with no reuse value"
      ],
      "delete_confirmation": "Git history preserves deleted content if recovery needed"
    },
    "changelog_policy": {
      "location": "CHANGELOG.md at repo root",
      "format": "Keep a Changelog format (https://keepachangelog.com/)",
      "sections": ["Added", "Changed", "Deprecated", "Removed", "Fixed", "Security"],
      "granularity": "Release-level changes, not per-commit",
      "version_scheme": "Semver per ADR-0016 (0.x.y during development, 1.0.0+ in production)",
      "when_to_update": [
        "New feature added (Added)",
        "ADR accepted or superseded (Changed)",
        "Contract version bumped (Changed)",
        "SPEC added or updated (Changed)",
        "Bug fixed (Fixed)",
        "Feature removed (Removed)"
      ]
    },
    "multi_project_structure": {
      "principle": "Each tool has ONE documentation folder, not duplicates",
      "folder_structure": {
        "docs/data-aggregator/": "DAT tool documentation",
        "docs/pptx-generator/": "PPTX tool documentation (subfolder structure allowed)",
        "docs/sov-analyzer/": "SOV tool documentation",
        "docs/platform/": "Cross-tool platform documentation",
        "docs/specs/": "All SPEC documents (organized by tool subfolder)",
        "docs/_archive/": "Archived documents"
      },
      "forbidden_patterns": [
        "Duplicate folders for same tool (e.g., docs/dat/ AND docs/data-aggregator/)",
        "Root-level working documents (move to docs/ or delete)",
        "Planning documents mixed with permanent documentation"
      ]
    },
    "constraints": [
      "All documents MUST fit one of the 5 categories",
      "Documents MUST NOT exist in duplicate locations",
      "ADR modifications during development MUST add provenance entry",
      "Material ADR changes MUST revert status to 'proposed'",
      "Archived documents MUST include README explaining archive reason",
      "CHANGELOG MUST be updated for all release-level changes"
    ],
    "implementation_specs": []
  },
  "consequences": [
    "Clear lifecycle for all document types eliminates ambiguity about retention",
    "Archive policy preserves historical context without cluttering active docs",
    "Development-phase ADR mutability enables iteration while maintaining traceability",
    "CHANGELOG provides release-level view of platform evolution",
    "Multi-project structure prevents duplicate folder proliferation",
    "Upfront cost: audit and reorganize existing docs (~35 files)",
    "Ongoing cost: discipline to categorize new docs and update CHANGELOG",
    "Archive folder may grow over time (mitigated by cheap storage)"
  ],
  "alternatives_considered": [
    {
      "name": "CHANGELOG only (no archive)",
      "pros": "Simpler, single source of change history",
      "cons": "Loses context of planning decisions, gap analyses show remediation journey",
      "rejected_reason": "Some documents have historical value beyond changelog entries"
    },
    {
      "name": "Archive only (no CHANGELOG)",
      "pros": "All history preserved in archive",
      "cons": "No summary view of changes, hard to see release evolution at a glance",
      "rejected_reason": "CHANGELOG provides essential release-level summary"
    },
    {
      "name": "Immutable ADRs from start",
      "pros": "Simpler mental model, no status transitions",
      "cons": "Forces premature decisions, creates ADR proliferation for minor changes",
      "rejected_reason": "Development phase needs flexibility; immutability comes with production"
    },
    {
      "name": "Delete all ephemeral docs immediately",
      "pros": "Clean workspace, no accumulation",
      "cons": "Loses valuable context (e.g., gap analysis shows what was fixed)",
      "rejected_reason": "Some ephemeral docs have archive value, need case-by-case evaluation"
    }
  ],
  "tradeoffs": "Requires discipline to categorize documents and maintain CHANGELOG. Archive folder will grow over time. However, this cost is justified by: clear retention policies eliminating ambiguity, preserved historical context for future reference, and release-level change tracking via CHANGELOG.",
  "rollout_plan": [
    "Create CHANGELOG.md at repo root with initial 0.1.0 entry",
    "Create docs/_archive/ directory structure",
    "Audit existing docs and categorize into 5 categories",
    "Archive planning docs (change-plan/) to docs/_archive/planning/2025-12/",
    "Delete ephemeral docs (gap analyses, debug docs) after review",
    "Consolidate duplicate tool folders (delete docs/dat/, docs/pptx/, docs/sov/)",
    "Update .adrs/ADR_INDEX.md to reference this ADR",
    "Add development-phase note to all Accepted ADRs explaining mutability"
  ],
  "rollback_plan": "Revert to ad-hoc documentation practices. Would require removing archive folder and CHANGELOG. Not recommended due to return to ambiguous retention and lost change tracking.",
  "metrics_to_watch": [
    "Archive folder size (should stabilize after initial cleanup)",
    "CHANGELOG update frequency (should correlate with releases)",
    "Duplicate document incidents (should be zero after rollout)",
    "ADR status transition frequency (indicates healthy iteration)"
  ],
  "guardrails": [
    {
      "id": "document-categorization",
      "rule": "Every document MUST belong to exactly one of the 5 categories",
      "enforcement": "Documentation PR review checklist includes category assignment",
      "scope": "core"
    },
    {
      "id": "no-duplicate-locations",
      "rule": "Documents MUST NOT exist in duplicate locations (DRY principle)",
      "enforcement": "CI check for duplicate filenames across docs/ (future enhancement)",
      "scope": "core"
    },
    {
      "id": "adr-provenance-on-change",
      "rule": "All ADR modifications MUST add provenance entry explaining change",
      "enforcement": "ADR schema validation requires provenance array with at least one entry",
      "scope": "core"
    },
    {
      "id": "material-change-status-reversion",
      "rule": "Material ADR changes MUST revert status to 'proposed' for re-review",
      "enforcement": "Manual review; PR description must indicate if change is material",
      "scope": "core"
    },
    {
      "id": "changelog-on-release",
      "rule": "CHANGELOG MUST be updated for all release-level changes",
      "enforcement": "Release checklist includes CHANGELOG update",
      "scope": "core"
    }
  ],
  "cross_cutting_guardrails": [
    "Tier Boundaries per ADR-0015 (each document tier has specific responsibility)",
    "Contract Versioning per ADR-0016 (semver for contracts)"
  ],
  "references": [
    "ADR-0015_3-Tier-Document-Model (establishes ADR/Spec/Guide tiers)",
    "ADR-0016_Hybrid-Semver-Contract-Versioning (versioning policy for contracts)",
    "ADR-0010_Docs-as-Code-Engineering-Tenets (MkDocs, mkdocstrings tooling)",
    "https://keepachangelog.com/ (CHANGELOG format reference)",
    "https://adr.github.io/ (ADR format reference)"
  ],
  "tags": [
    "documentation",
    "lifecycle",
    "archival",
    "changelog",
    "retention-policy",
    "multi-project"
  ],
  "affected_components": [
    "documentation",
    "developer workflow",
    "release process"
  ],
  "review_date": "2026-06-28"
}
