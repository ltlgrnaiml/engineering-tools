{
  "schema_type": "adr",
  "id": "ADR-0008_table-availability",
  "title": "Table Availability: Deterministic, Transparent Status Model and UX Integration",
  "status": "accepted",
  "date": "2025-11-22",
  "deciders": "Mycahya Eggleston",
  "scope": "subsystem:DAT",
  "provenance": [
    {
      "at": "2025-11-22",
      "by": "Mycahya Eggleston",
      "note": "Initial draft"
    },
    {
      "at": "2025-12-27",
      "by": "DevTools Editor",
      "note": "Updated via DevTools ADR Editor"
    }
  ],
  "context": "Users and automation require transparent, deterministic feedback on which tables are available, missing, or partially present before parse. Ad-hoc or preview-tied checks are unreliable and slow. A standardized, reproducible status model and UX integration are needed to support both quick-path and power-user workflows.",
  "decision_primary": "Table availability is determined by formalized, deterministic probe strategies, independent from Preview. Status is standardized as available, partial, missing, or empty. Table status is surfaced in summary panels and UX before parse.",
  "decision_details": {
    "approach": "Implement standardized table probe logic for all tables. Status model is available, partial, missing, empty. Table availability checks are independent from Preview and surfaced in summary panels and UX.",
    "constraints": [
      "Table probe logic must be deterministic and reproducible for the same input.",
      "Status model must be standardized and documented.",
      "Table availability checks must be independent from Preview.",
      "UX must surface table status before parse."
    ],
    "implementation_specs": [
      "SPEC-0006_Table-Availability-Status-Spec",
      "SPEC-0003_Frontend-Panel-Status-Integration",
      "SPEC-0005",
      "SPEC-0024",
      "SPEC-0029"
    ]
  },
  "consequences": [
    "Users and automation receive clear, reproducible feedback on table status.",
    "Quick-path and power-user workflows are both supported.",
    "UX is improved with summary panels and status integration.",
    "Some up-front effort required to standardize probe logic and status model."
  ],
  "alternatives_considered": [
    {
      "name": "Table Availability Tied to Preview",
      "pros": "Simplifies implementation.",
      "cons": "Less transparent, not always timely.",
      "rejected_reason": "Fails transparency and quick-path requirements."
    },
    {
      "name": "Ad-hoc/Manual Table Checks",
      "pros": "Flexible for quick fixes.",
      "cons": "Not scalable or reliable.",
      "rejected_reason": "Fails reproducibility and standardization goals."
    }
  ],
  "tradeoffs": "We trade up-front standardization and UX integration effort for transparency, reproducibility, and user confidence.",
  "rollout_plan": [
    "Implement formalized table probe logic for all tables.",
    "Standardize status model and document it.",
    "Integrate table status into summary panels and UX.",
    "Train contributors and users on new table availability workflow."
  ],
  "rollback_plan": "Revert to previous ad-hoc or preview-tied table checks (not recommended).",
  "metrics_to_watch": [
    "Incidents of incorrect or missing table status.",
    "User feedback on table availability transparency.",
    "UX panel coverage for table status."
  ],
  "guardrails": [
    {
      "rule": "Table probe logic must be deterministic and reproducible.",
      "enforcement": "Backend and tests validate probe logic and status model.",
      "scope": "core"
    },
    {
      "rule": "Table status must be surfaced in UX before parse.",
      "enforcement": "Frontend summary panels display table status.",
      "scope": "core"
    }
  ],
  "cross_cutting_guardrails": [
    "Deterministic Artifacts: Table status must be reproducible (see ADR-0017_Cross-Cutting-Guardrails#deterministic-artifacts)"
  ],
  "references": [
    "ADR-0001_Guided-Workflow-FSM-Orchestration: Core FSM pattern for stage transitions",
    "ADR-0004_Deterministic-Content-Addressed-IDs: Deterministic ID generation",
    "ADR-0017_Cross-Cutting-Guardrails: Platform-wide guardrails",
    "ADR-0037",
    "ADR-0015"
  ],
  "tags": [
    "table-availability",
    "determinism",
    "status-model",
    "ux"
  ],
  "affected_components": [
    "table probe logic",
    "status model",
    "frontend summary panels",
    "user interface"
  ],
  "review_date": "2026-05-22"
}